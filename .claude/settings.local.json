{
  "permissions": {
    "allow": [
      "Bash(kill:*)",
      "Bash(mkdir:*)",
      "Bash(touch:*)",
      "Bash(chmod:*)",
      "Bash(cp:*)",
      "Bash(rm:*)",
      "Bash(gh repo create:*)",
      "Bash(git add:*)",
      "Bash(git push:*)",
      "Bash(npm install:*)",
      "Bash(npm run type-check:*)",
      "Bash(git commit:*)",
      "Bash(supabase:*)",
      "WebFetch(domain:localhost)",
      "Bash(/usr/local/Cellar/supabase/2.30.4/bin/supabase status)",
      "Bash(/usr/local/Cellar/supabase/2.30.4/bin/supabase start)",
      "Bash(psql:*)",
      "Bash(curl:*)",
      "Bash(pkill:*)",
      "Bash(/usr/local/Cellar/supabase/2.30.4/bin/supabase db push)",
      "Bash(npm run lint)",
      "Bash(npm run build:*)",
      "Bash(git checkout:*)",
      "Bash(gtimeout:*)",
      "Bash(npx supabase migration:*)",
      "Bash(npx supabase:*)",
      "Bash(find:*)",
      "Bash(ls:*)"
    ],
    "deny": []
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "echo '🚨🚨🚨 勝手な実装絶対禁止チェック 🚨🚨🚨' && echo '==============================================' && echo '🔴 絶対に守ること：' && echo '1. 📋 タスクスケジュール確認必須' && echo '   → .kiro/specs/ai-schedule-assistant/tasks.md' && echo '2. 🚫 予定外の実装は絶対禁止' && echo '3. 🙋 事前にユーザーに確認必須' && echo '' && echo '現在実装すべきタスク確認:' && if [ -f './.kiro/specs/ai-schedule-assistant/tasks.md' ]; then echo '--- 次の未完了タスク ---' && grep -E '\\- \\[ \\]' ./.kiro/specs/ai-schedule-assistant/tasks.md | head -1 && echo '⚠️  このタスク以外の実装は禁止'; else echo '⚠️  タスクファイルが見つかりません'; fi && echo '==============================================' && echo '🚨 勝手な実装は絶対にしない！'"
          }
        ]
      },
      {
        "matcher": "MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "echo '🚨 MultiEdit実行前チェック' && echo '==============================================' && echo '🔴 複数ファイル編集予定' && echo '' && echo '必須確認事項:' && echo '1. ✅ 全ての変更が現在のタスク範囲内か？' && echo '2. ✅ タスク仕様を正確に確認済みか？' && echo '3. ✅ 存在しないコンポーネントを使用していないか？' && echo '' && echo '現在実装すべきタスク:' && if [ -f './.kiro/specs/ai-schedule-assistant/tasks.md' ]; then grep -E '\\- \\[ \\]' ./.kiro/specs/ai-schedule-assistant/tasks.md | head -1; fi && echo '' && echo '🚨 タスク境界を厳格に守ること！' && echo '=============================================='"
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "echo '🚨 新規ファイル作成前チェック' && echo '==============================================' && echo '🔴 新規ファイル作成予定' && echo '' && echo '必須確認事項:' && echo '1. ✅ タスクスケジュールに含まれているか？' && echo '2. ✅ ユーザーから実装許可を得たか？' && echo '3. ✅ 予定外の実装ではないか？' && echo '' && echo '現在の実装対象タスク:' && if [ -f './.kiro/specs/ai-schedule-assistant/tasks.md' ]; then grep -E '\\- \\[ \\]' ./.kiro/specs/ai-schedule-assistant/tasks.md | head -1; fi && echo '' && echo '🚨 勝手なファイル作成は禁止！' && echo '=============================================='"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "echo '🚨🚨🚨 タスクファイル更新必須確認 🚨🚨🚨' && echo '==============================================' && echo '🔴 絶対に忘れてはいけない必須アクション:' && echo '1. 🔴 タスクファイルの該当項目を [ ] → [x] に更新' && echo '2. git add & git commit でコミット作成' && echo '3. git push origin [branch-name] でプッシュ' && echo '4. 次のタスク用に新しいブランチ作成' && echo '' && if [ -f './.kiro/specs/ai-schedule-assistant/tasks.md' ]; then echo '📄 タスクファイル: ./.kiro/specs/ai-schedule-assistant/tasks.md' && echo '🔍 現在の未完了タスク：' && grep -E '\\- \\[ \\]' ./.kiro/specs/ai-schedule-assistant/tasks.md | head -3 && echo '' && echo '✅ 最近完了したタスク：' && grep -E '\\- \\[x\\]' ./.kiro/specs/ai-schedule-assistant/tasks.md | tail -2; else echo '⚠️ タスクファイルが見つかりません'; fi && echo '==============================================' && echo '🚨 タスクファイル更新は絶対に忘れないでください！'"
          }
        ]
      },
      {
        "matcher": "Bash(git commit:*)",
        "hooks": [
          {
            "type": "command",
            "command": "echo '🚀 Git Commit後チェック' && echo '==============================================' && echo '🔴 必須アクション：' && echo '1. 📋 タスクファイルの該当項目を [ ] → [x] に更新' && echo '2. 🚀 git push origin [branch-name] でプッシュ' && echo '3. 🌿 次のタスク用に新しいブランチ作成' && echo '' && if [ -f './.kiro/specs/ai-schedule-assistant/tasks.md' ]; then echo '📄 タスクファイル: ./.kiro/specs/ai-schedule-assistant/tasks.md' && echo '🔍 現在の未完了タスク：' && grep -E '\\- \\[ \\]' ./.kiro/specs/ai-schedule-assistant/tasks.md | head -3; else echo '⚠️ タスクファイルが見つかりません'; fi && echo '==============================================' && echo '🚨 タスクファイル更新とプッシュを忘れずに！'"
          }
        ]
      }
    ]
  }
}